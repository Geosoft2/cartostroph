<!doctype html>
<html class="no-js" lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cartostroph | Willkommen</title>
    <link rel="stylesheet" href="../css/foundation/foundation.css" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="../js/vendor/modernizr.js"></script>
    <script src="../js/leaflet-Interaktion/Karteninteraktion.js"></script>
</head>
<body>
    <div class="fixed">
        <nav class="top-bar" data-topbar role="navigation">
            <ul class="title-area">
                <li class="name">
                    <h1><a href="#">Cartostroph</a></h1>
                </li>
                <!-- Remove the class "menu-icon" to get rid of menu icon. Take out "Menu" to just have icon alone -->
                <li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
            </ul>
            <section class="top-bar-section">
                <!-- Right Nav Section -->
                <ul class="right">
                    <li class="has-form">
                        <div>
                            <input type="text" placeholder="Suche">
                        </div>
                    </li>
                    
                    <li><a href="#">First Right Button</a></li>
                    <li><a href="#">Second Right Button</a></li>
                    <li><a href="#" data-reveal-id="myModal">Neues Topic anlegen</a>
                    	<div id="myModal" class="reveal-modal" data-reveal>
                    		<h3>Wählen Sie eine Position, durch Klick in die Karte</h3>
                    		<a id="setCoordinate" class="close-reveal-modal">OK</a>
                    		<script type="text/javascript">
                    			document.getElementById("setCoordinate").onclick = newMarker;
                    		</script>
						</div>
                    	
						<div id="newTopicModal" class="reveal-modal" data-reveal>
  							<h2>Fügen Sie einen Geodatensatz hinzu</h2>
  							<form action="index.php" method="post">
  								<p>URL: <input type="text" id="URL" name="URL" required/></p>
  								<p>Titel: <input type="text" id="Titel" name="Titel"/></p>
  								<p>Kommentar: <textarea type="text"  id="Kommentar" name="Kommentar"></textarea></p>
  								<p>Kategorie:
									<select id="Kategorie" name="Kategorie">
  										<option value="Welt">Welt</option>
  										<option value="Kontinent">Kontinent</option>
  										<option value="Land">Land</option>
  										<option value="Region">Region</option>
  										<option value="Stadt">Stadt</option>
									</select>
								</p>
  								<p>
  								Zeitliche Ausdehnung - Start <input type="date" id="start" name="start" />	
  								</p>
  								<p>
  								Zeitliche Ausdehnung - Ende <input type="date" id="end" name="end" />	
  								</p>
  								<p>Bewertung: <br /><input id="checkbox1" type="checkbox" onclick="activateAssessment()"><label for="checkbox1" >Bewertung ausschalten</label>
  									 <div class="row">
  												 <div class="small-10 medium-11 columns">
  												 	<div id="Bewertung" name="Bewertung" class="range-slider" data-slider disabled data-options="display_selector: #sliderOutput3; start: 1; end: 5;" >
  												 		<span class="range-slider-handle" role="slider" tabindex="0"></span>
  												 		<span class="range-slider-active-segment"></span> 
  												 	</div> 
  												 </div>
  												 <div class="small-2 medium-1 columns">
  												 	<span id="sliderOutput3"></span>
  												 </div>
  											  </div>
  								</p>
  								
  								<p>Tags: <input type="text" id="tags" name="tags"/>
								</p>
								<p>Hyperlink: <input type="text" id="hyperlink" name="hyperlink"/>
								</p>
        						</form>
  							<a  id="submitTopic1" class="close-reveal-modal">Abschicken</a>
  							<script type="text/javascript">
                    			document.getElementById("submitTopic1").onclick = submitTopic;
                    		</script>
					</div>
					
					</li>
                    <li class="active"><a href="#">Right Button Active</a></li>
                    <li class="has-dropdown">
                        <a href="#">Right Button Dropdown</a>
                        <ul class="dropdown">
                            <li><a href="#">First link in dropdown</a></li>
                            <li><a href="#">Second link in dropdown</a></li>
                            <li><a href="#">Third link in dropdown</a></li>
                            <li class="active"><a href="#">Active link in dropdown</a></li>
                        </ul>
                    </li>
                </ul>
            </section>
        </nav>
    </div>

    <div id="map" style="height: 92.5%; width: 100%;">

    </div>

    <div style="height: 7.5%">
        <dl class="sub-nav">
            <dt>Filter:</dt>
            <dd class="active"><a href="#">All</a></dd>
            <dd><a href="#">Active</a></dd>
            <dd><a href="#">Pending</a></dd>
            <dd><a href="#">Suspended</a></dd>
        </dl>
    </div>

    <script src="../js/vendor/jquery.js"></script>
    <script src="../js/foundation/foundation.min.js"></script>
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
    <script type="text/javascript">
        $(document).foundation();
        // create a map in the "map" div, set the view to a given place and zoom
        var addMarker = false; // wheter a new marker can be set or not
       
        var map = L.map('map');
        //
        map.setView([30.505,0], 2);
        // add an OpenStreetMap tile layer
        L.tileLayer('https://{s}.tiles.mapbox.com/v3/{id}/{z}/{x}/{y}.png', {
			maxZoom: 18,
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
				'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
				'Imagery © <a href="http://mapbox.com">Mapbox</a>',
			id: 'examples.map-i875mjb7'
		}).addTo(map);
		
        //zoom to location of user 
        map.locate({setView: true, maxZoom: 12});
        /*function onLocationFound(e) {
            var radius = e.accuracy / 0.001;
            L.marker(e.latlng).addTo(map)
                .bindPopup("You are within " + radius + " meters from this point").openPopup(); 
            L.circle(e.latlng, radius).addTo(map);
        }
        map.on('locationfound', onLocationFound);
        function onLocationError(e) {
            alert(e.message);
        }
        map.on('locationerror', onLocationError);*/
		
		map.on('click', onMapClick);
		// map.on('mouseout',resetView);
    </script>
</body>
</html>